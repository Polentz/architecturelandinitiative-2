title: Tool Page
options:
  navigation:
    status: all
    template: tool

columns:
  main:
    width: 2/3
    sections:
      content:
        type: fields
        fields:
          contentHeadline:
            type: headline
            label: "{{page.title}} page"
            numbered: false
          intro:
            label: Introduction text
            type: writer
            marks:
              - bold
              - italic
              - underline
              - link
              - email
              - clear
            nodes: false
          textblocks:
            label: Text
            type: blocks
            fieldsets:
              - sliderblock
          cover:
            type: files
            label: Cover images
            uploads: media
            template: media        
            query: site.grandchildren.files.filterBy('template', 'media').filterBy('tools', '*=', page.title)
            layout: cards
            multiple: true
            link: true
            size: small
            image:
              icon: true
              ratio: 4/3
              back: white
              cover: true 
          gallery:
            type: files
            label: Gallery
            uploads: media
            template: media   
            query: site.grandchildren.files.filterBy('template', 'media').filterBy('tools', '*=', page.title)
            layout: cards
            multiple: true
            link: true
            size: small
            image:
              icon: true
              ratio: 4/3
              back: white
              cover: true 
  sidebar:
    width: 1/3
    sections:
      filter:
        type: fields
        fields:   
          previewHeadline:
            type: headline
            label: "{{page.parent.title}} list preview" 
            numbered: false
          background:
            type: files
            label: Background image
            uploads: media
            template: media 
            # query: site.grandchildren.files.filterBy('template', 'media')
            query: site.grandchildren.files.filterBy('template', 'media').filterBy('tools', '*=', page.title)
            layout: list
            size: small
            multiple: false
            image:
              back: "#000"
              icon: false
              ratio: 1/1
              cover: true
          filtersHeadline:
            type: headline
            label: Filter Settings
            numbered: false
          selectFilters:
            label: Filter by
            type: checkboxes
            options:
              mediatype: Media type
              project: Reletaed projects
          # typeName:
          #   label: Filter by    
          #   type: text
          #   width: 1/2       
          # types: 
          #   type: multiselect
          #   label: "Available filters (category: media)" 
          #   layout: list
          #   options:
          #     type: query
          #     query: site.mediaFilters.toStructure
          #     text: "{{ item.filter }}"
          #     value: "{{ item.filter }}"
          # filterName:
          #   label: Filter by    
          #   type: text
          #   width: 1/2
          # filters:
          #   type: multiselect
          #   label: "Available filters (category: projects)"
          #   layout: list
          #   options:
          #     type: query
          #     query: site.grandchildren.template("project")
          #     text: "{{ page.title }}"
          #     value: "{{ page.title }}"